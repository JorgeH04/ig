(this["webpackJsonpclontagram-cliente"]=this["webpackJsonpclontagram-cliente"]||[]).push([[0],{48:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(40),r=s.n(a),i=(s(48),s(5)),o=s(2),l=s.n(o),u=s(6),j=s(4),b=s(7),d=s(9),p=s(8),h=s.n(p),m="CLONTAGRAM_TOKEN";function x(e){localStorage.setItem(m,e)}function O(){return localStorage.getItem(m)}function f(){localStorage.removeItem(m)}var g=s(15),v=s(20),k=s(18),_=s(0);function y(e){var t=e.usuario;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{id:"preloder",children:Object(_.jsx)("div",{class:"loader"})}),Object(_.jsx)("div",{class:"header-logo py-5 d-none d-lg-block",children:Object(_.jsx)("div",{class:"container",children:Object(_.jsx)("div",{class:"row justify-content-center",children:Object(_.jsx)("div",{class:"col-lg-6 text-center",children:Object(_.jsx)("a",{class:"navbar-brand",href:"index.html",children:Object(_.jsx)("img",{src:"images/logo.png",alt:"",class:"img-fluid w-100"})})})})})}),Object(_.jsx)("header",{class:"header-top bg-grey justify-content-center",children:Object(_.jsx)("nav",{class:"navbar navbar-expand-lg navigation",children:Object(_.jsxs)("div",{class:"container",children:[Object(_.jsx)(b.b,{class:"navbar-brand d-lg-none",to:"/",children:Object(_.jsx)("img",{src:"images/logo.png",alt:"",class:"img-fluid"})}),Object(_.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(_.jsx)("span",{class:"ti-menu"})}),Object(_.jsx)("div",{class:"collapse navbar-collapse",id:"navbarContent",children:Object(_.jsxs)("ul",{id:"menu",class:"menu navbar-nav ",children:[Object(_.jsx)("li",{class:"nav-item dropdown  pl-0",children:Object(_.jsx)(b.b,{class:"nav-link dropdown-toggle",to:"/",children:"Home"})}),Object(_.jsx)("li",{class:"nav-item dropdown  pl-0",children:Object(_.jsx)(b.b,{class:"nav-link dropdown-toggle",to:"/upload",children:"Upload"})}),Object(_.jsx)("li",{class:"nav-item dropdown",children:Object(_.jsx)(b.b,{class:"nav-link dropdown-toggle",to:"/explore",children:"Explore"})}),Object(_.jsx)("li",{class:"nav-item",children:Object(_.jsx)(b.b,{class:"nav-link",to:"/perfil/:username",children:"Perfil"})}),Object(_.jsx)("li",{class:"nav-item",children:t&&Object(_.jsx)(w,{usuario:t})})]})})]})})})]})}function w(e){var t=e.usuario;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("li",{className:"Nav__link-push",children:Object(_.jsx)(b.b,{className:"Nav__link",to:"/upload",children:Object(_.jsx)(g.a,{icon:v.a})})}),Object(_.jsx)("li",{className:"Nav__link-margin-left",children:Object(_.jsx)(b.b,{className:"Nav__link",to:"/explore",children:Object(_.jsx)(g.a,{icon:k.a})})}),Object(_.jsx)("li",{className:"Nav__link-margin-left",children:Object(_.jsx)(b.b,{className:"Nav__link",to:"/perfil/".concat(t.username),children:Object(_.jsx)(g.a,{icon:k.c})})})]})}function N(){return Object(_.jsxs)("div",{className:"Loading",children:[Object(_.jsx)("div",{className:"Loading__dot-1"}),Object(_.jsx)("div",{className:"Loading__dot-2"}),Object(_.jsx)("div",{className:"Loading__dot-3"})]})}function S(e){var t=e.mensaje,s=e.esconderError;return t?Object(_.jsx)("div",{className:"ErrorContainer",role:"alert",children:Object(_.jsxs)("div",{className:"Error__inner",children:[Object(_.jsx)("span",{className:"block",children:t}),Object(_.jsx)("button",{className:"Error__button",onClick:s,children:Object(_.jsx)(g.a,{className:"Error__icon",icon:k.b})})]})}):null}function C(e){var t=e.children,s=e.center,c="Main ".concat(s?"Main--center":"");return Object(_.jsx)("main",{className:c,children:t})}s.p;function E(e){var t=e.signup,s=e.mostrarError,n=Object(c.useState)({email:"",username:"",password:"",bio:"",nombre:""}),a=Object(j.a)(n,2),r=a[0],o=a[1];function d(e){o(Object(i.a)(Object(i.a)({},r),{},{[e.target.name]:e.target.value}))}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,t(r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),s(e.t0.response.data);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(_.jsxs)(C,{center:!0,children:[Object(_.jsx)("div",{className:"Signup",children:Object(_.jsxs)("div",{className:"FormContainer",children:[Object(_.jsx)("h1",{className:"Form__titulo",children:"Clontagram"}),Object(_.jsx)("p",{className:"FormContainer__info",children:"Reg\xedstrate para que veas el clon de Instagram"}),Object(_.jsxs)("form",{onSubmit:p,children:[Object(_.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"Form__field",required:!0,onChange:d,value:r.email}),Object(_.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre y Apellido",className:"Form__field",required:!0,minLength:"3",maxLength:"100",onChange:d,value:r.nombre}),Object(_.jsx)("input",{type:"text",name:"username",placeholder:"Username",className:"Form__field",required:!0,minLength:"3",maxLength:"30",onChange:d,value:r.username}),Object(_.jsx)("input",{type:"text",name:"bio",placeholder:"Cu\xe9ntanos de ti...",className:"Form__field",required:!0,maxLength:"150",onChange:d,value:r.bio}),Object(_.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",className:"Form__field",required:!0,onChange:d,value:r.password}),Object(_.jsx)("button",{className:"Form__submit",type:"submit",children:"Sign up"}),Object(_.jsxs)("p",{className:"FormContainer__info",children:["Ya tienes cuenta? ",Object(_.jsx)(b.b,{to:"/login",children:"Login"})]})]})]})}),Object(_.jsx)("div",{class:"contact_section layout_padding",children:Object(_.jsx)("div",{class:"container",children:Object(_.jsx)("div",{class:"row",children:Object(_.jsx)("div",{class:"col-md-6",children:Object(_.jsxs)("div",{class:"mail_section",children:[Object(_.jsx)("h1",{class:"contact_taital",children:"Contact us"}),Object(_.jsxs)("form",{onSubmit:p,children:[Object(_.jsx)("input",{type:"email",name:"email",class:"email_text",placeholder:"Email",onChange:d}),Object(_.jsx)("input",{type:"password",class:"email_text",placeholder:"Password",name:"nombre",onChange:d,value:r.nombre,minLength:"3",maxLength:"100"}),Object(_.jsx)("input",{type:"password",class:"email_text",placeholder:"Password",name:"nombre",onChange:d,value:r.nombre,minLength:"3",maxLength:"100"}),Object(_.jsx)("input",{type:"text",name:"bio",placeholder:"Cu\xe9ntanos de ti...",class:"email_text",required:!0,maxLength:"150",onChange:d,value:r.bio}),Object(_.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",class:"email_text",required:!0,onChange:d,value:r.password}),Object(_.jsx)("div",{class:"send_bt",children:Object(_.jsx)("a",{href:"#",children:"send"})})]})]})})})})})]})}function L(e){var t=e.login,s=e.mostrarError,n=Object(c.useState)({email:"",password:""}),a=Object(j.a)(n,2),r=a[0],o=a[1];function d(e){o(Object(i.a)(Object(i.a)({},r),{},{[e.target.name]:e.target.value}))}function p(){return(p=Object(u.a)(l.a.mark((function e(c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,t(r.email,r.password);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s(e.t0.response.data),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(_.jsx)(C,{center:!0,children:Object(_.jsx)("div",{class:"contact_section layout_padding",children:Object(_.jsx)("div",{class:"container",children:Object(_.jsx)("div",{class:"row",children:Object(_.jsx)("div",{class:"col-md-6",children:Object(_.jsxs)("div",{class:"mail_section",children:[Object(_.jsx)("h1",{class:"contact_taital",children:"Contact us"}),Object(_.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(_.jsx)("input",{type:"email",name:"email",class:"email_text",placeholder:"Email",onChange:d,value:r.email}),Object(_.jsx)("input",{type:"password",class:"email_text",placeholder:"Password",name:"password",onChange:d,value:r.password}),Object(_.jsx)("button",{type:"submit",class:"send_bt",children:"Login"}),Object(_.jsxs)("p",{className:"FormContainer__info",children:["No tienes cuenta? ",Object(_.jsx)(b.b,{to:"/signup",children:"Signup"})]})]})]})})})})})})}function P(e){var t=e.history,s=e.mostrarError,n=Object(c.useState)(""),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),b=Object(j.a)(o,2),d=b[0],p=b[1],m=Object(c.useState)(!1),x=Object(j.a)(m,2),O=x[0],f=x[1],g=Object(c.useState)(""),v=Object(j.a)(g,2),k=v[0],y=v[1],w=Object(c.useState)(""),N=Object(j.a)(w,2),S=N[0],E=N[1];function L(){return(L=Object(u.a)(l.a.mark((function e(t){var c,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),c=t.target.files[0],n={headers:{"Content-Type":c.type}},e.next=6,h.a.post("https://igback.herokuapp.com/api/posts/upload",c,n);case 6:a=e.sent,r=a.data,i(r.url),p(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),p(!1),s(e.t0.response.data),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!O){e.next=3;break}return e.abrupt("return");case 3:if(!d){e.next=6;break}return s("No se ha terminado de subir la imagen"),e.abrupt("return");case 6:if(r){e.next=9;break}return s("Primero selecciona una imagen"),e.abrupt("return");case 9:return e.prev=9,f(!0),n={caption:S,title:k,url:r},e.next=14,h.a.post("https://igback.herokuapp.com/api/posts",n);case 14:f(!1),t.push("/"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),s(e.t0.response.data);case 21:case"end":return e.stop()}}),e,null,[[9,18]])})))).apply(this,arguments)}return Object(_.jsx)(C,{center:!0,children:Object(_.jsx)("div",{className:"Upload",children:Object(_.jsxs)("form",{onSubmit:function(e){return P.apply(this,arguments)},children:[Object(_.jsx)("div",{className:"Upload__image-section",children:Object(_.jsx)(I,{imagenUrl:r,subiendoImagen:d,handleImagenSeleccionada:function(e){return L.apply(this,arguments)}})}),Object(_.jsx)("input",{value:k,onChange:function(e){return y(e.target.value)}}),Object(_.jsx)("textarea",{name:"caption",className:"Upload__caption",required:!0,maxLength:"180",placeholder:"Caption de tu post.",value:S,onChange:function(e){return E(e.target.value)}}),Object(_.jsx)("button",{className:"Upload__submit",type:"submit",children:"Post"})]})})})}function I(e){var t=e.subiendoImagen,s=e.imagenUrl,c=e.handleImagenSeleccionada;return t?Object(_.jsx)(N,{}):s?Object(_.jsx)("img",{src:s,alt:""}):Object(_.jsxs)("label",{className:"Upload__image-label",children:[Object(_.jsx)(g.a,{icon:v.b}),Object(_.jsx)("span",{children:"Publica una foto"}),Object(_.jsx)("input",{type:"file",className:"hidden",name:"imagen",onChange:c})]})}var F=s(23),q=s(22),D=s.n(q);function A(e){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(l.a.mark((function e(t){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="/api/posts/".concat(t._id,"/likes"),!t.estaLike){e.next=7;break}return e.next=4,h.a.delete(s,{});case 4:c=Object(i.a)(Object(i.a)({},t),{},{estaLike:!1,numLikes:t.numLikes-1}),e.next=10;break;case 7:return e.next=9,h.a.post(s,{});case 9:c=Object(i.a)(Object(i.a)({},t),{},{estaLike:!0,numLikes:t.numLikes+1});case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,s){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(l.a.mark((function e(t,s,c){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/posts/".concat(t._id,"/comentarios"),{mensaje:s});case 2:return n=e.sent,(a=n.data).usuario=c,r=Object(i.a)(Object(i.a)({},t),{},{comentarios:[].concat(Object(F.a)(t.comentarios),[a]),numComentarios:t.numComentarios+1}),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=e.post,s=(e.actualizarPost,e.mostrarError,e.usuario,t.numLikes,t.numComentarios,t.comentarios,t._id,t.caption,t.title,t.url),n=(t.usuario,t.estaLike,Object(c.useState)(!1)),a=Object(j.a)(n,2);a[0],a[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{class:"single-post",children:[Object(_.jsxs)("div",{class:"post-header mb-5 text-center",children:[Object(_.jsxs)("div",{class:"meta-cat",children:[Object(_.jsx)("a",{class:"post-category font-extra text-color text-uppercase font-sm letter-spacing-1",href:"#",children:"Health ,"}),Object(_.jsx)("a",{class:"post-category font-extra text-color text-uppercase font-sm letter-spacing-1",href:"#",children:"lifestyle"})]}),Object(_.jsx)("h2",{class:"post-title mt-2",children:"First Look At Self-Portrait's Autumn Collection"}),Object(_.jsxs)("div",{class:"post-meta",children:[Object(_.jsx)("span",{class:"text-uppercase font-sm letter-spacing-1 mr-3",children:"by Liam"}),Object(_.jsx)("span",{class:"text-uppercase font-sm letter-spacing-1",children:"January 17,2019"})]}),Object(_.jsx)("div",{class:"post-featured-image mt-5",children:Object(_.jsx)("img",{src:s,class:"img-fluid w-100",alt:"featured-image"})})]}),Object(_.jsx)("div",{class:"post-body"})]})})}function z(e){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(t){var s,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t?"?fecha=".concat(t):"",e.next=3,h.a.get("https://igback.herokuapp.com/api/posts/feed".concat(s));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){var t=e.mostrarError,s=e.usuario,n=Object(c.useState)([]),a=Object(j.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!0),b=Object(j.a)(o,2),d=b[0],p=b[1],h=Object(c.useState)(!1),m=Object(j.a)(h,2),x=m[0],O=m[1],f=Object(c.useState)(!1),g=Object(j.a)(f,2),v=g[0],k=g[1];function y(e,t){i((function(s){return s.map((function(s){return s!==e?s:t}))}))}function w(){return(w=Object(u.a)(l.a.mark((function e(){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,O(!0),s=r[r.length-1].fecha_creado,e.next=7,z(s);case 7:c=e.sent,i((function(e){return[].concat(Object(F.a)(e),Object(F.a)(c))})),O(!1),S(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t("Hubo un problema cargando los siguientes posts."),O(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function S(e){e.length<3&&k(!0)}return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:s=e.sent,i(s),console.log(s),p(!1),S(s),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t("Hubo un problema cargando tu feed."),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),d?Object(_.jsx)(C,{center:!0,children:Object(_.jsx)(N,{})}):d||0!==r.length?Object(_.jsx)(C,{center:!0,children:Object(_.jsx)("section",{class:"single-block-wrapper section-padding",children:Object(_.jsx)("div",{class:"container",children:Object(_.jsx)("div",{class:"row justify-content-center",children:Object(_.jsxs)("div",{class:"col-lg-10 col-md-10 col-sm-12 col-xs-12",children:[r.map((function(e){return Object(_.jsx)(R,{post:e,actualizarPost:y,mostrarError:t,usuario:s},e._id)})),Object(_.jsx)(W,{onClick:function(){return w.apply(this,arguments)},todosLosPostsCargados:v})]})})})})}):Object(_.jsx)(C,{center:!0,children:Object(_.jsx)(J,{})})}function J(){return Object(_.jsxs)("div",{className:"NoSiguesANadie",children:[Object(_.jsx)("p",{className:"NoSiguesANadie__mensaje",children:"Tu feed no tiene fotos porque no sigues a nadie, o porque no han publicado fotos."}),Object(_.jsx)("div",{className:"text-center",children:Object(_.jsx)(b.b,{to:"/explore",className:"NoSiguesANadie__boton",children:"Explora Clontagram"})})]})}function W(e){var t=e.onClick;return e.todosLosPostsCargados?Object(_.jsx)("div",{className:"Feed__no-hay-mas-posts",children:"No hay m\xe1s posts"}):Object(_.jsx)("button",{className:"Feed__cargar-mas",onClick:t,children:"Ver m\xe1s"})}function B(e){var t=e.mensaje;return Object(_.jsx)(C,{center:!0,children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{className:"RecursoNoExiste__mensaje",children:t}),Object(_.jsxs)("p",{className:"RecursoNoExiste__link-container",children:["Ir al ",Object(_.jsx)(b.b,{to:"/",children:"home"})]})]})})}function Q(e){var t=e.mostrarError,s=e.match,n=e.usuario,a=s.params.id,r=Object(c.useState)(null),o=Object(j.a)(r,2),b=o[0],d=o[1],p=Object(c.useState)(!0),m=Object(j.a)(p,2),x=m[0],O=m[1],f=Object(c.useState)(!1),g=Object(j.a)(f,2),v=g[0],k=g[1],y=Object(c.useState)(!1),w=Object(j.a)(y,2),S=w[0],E=w[1];function L(){return(L=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(b,t,n);case 2:s=e.sent,d(s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,E(!0),e.next=6,A(b);case 6:s=e.sent,d(s),E(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),E(!1),t("Hubo un problema modificando el like. Intenta de nuevo."),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://igback.herokuapp.com/api/posts/".concat(a));case 3:s=e.sent,c=s.data,d(c),O(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status?t("Hubo un problema cargando este post."):k(!0),O(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),x?Object(_.jsx)(C,{center:!0,children:Object(_.jsx)(N,{})}):v?Object(_.jsx)(B,{mensaje:"El post que estas intentando ver no existe"}):null==b?null:Object(_.jsx)(C,{center:!0,children:Object(_.jsx)(K,Object(i.a)(Object(i.a)({},b),{},{onSubmitComentario:function(e){return L.apply(this,arguments)},onSubmitLike:function(){return P.apply(this,arguments)}}))})}function K(e){e.comentarios,e.caption;var t=e.url;e.usuario,e.estaLike,e.onSubmitLike,e.onSubmitComentario;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{class:"col-lg-9",children:Object(_.jsxs)("div",{class:"blog-item",children:[Object(_.jsx)("div",{class:"bi-pic",children:Object(_.jsx)("img",{src:t,alt:""})}),Object(_.jsxs)("div",{class:"bi-text",children:[Object(_.jsx)("div",{class:"label",children:"Typography"}),Object(_.jsx)("h5",{children:Object(_.jsx)("a",{href:"./blog-details.html",children:"Women were photography pioneers yet gender inequality persists in the..."})}),Object(_.jsxs)("ul",{children:[Object(_.jsxs)("li",{children:["by ",Object(_.jsx)("span",{children:"Admin"})]}),Object(_.jsx)("li",{children:"Aug,15, 2019"}),Object(_.jsx)("li",{children:"20 Comment"})]}),Object(_.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. "})]})]})})})}function V(e){var t=e.posts.reduce((function(e,t){var s=e[e.length-1];return s&&s.length<3?s.push(t):e.push([t]),e}),[]);return Object(_.jsx)("div",{children:t.map((function(e,t){return Object(_.jsx)("div",{className:"Grid__row",children:e.map((function(e){return Object(_.jsx)(Y,Object(i.a)({},e),e._id)}))},t)}))})}function Y(e){e._id;var t=e.url;e.caption;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{class:"col-lg-3 col-md-6",children:Object(_.jsxs)("article",{class:"post-grid mb-5",children:[Object(_.jsx)("a",{class:"post-thumb mb-4 d-block",href:"blog-single.html",children:Object(_.jsx)("img",{src:t,alt:"",class:"img-fluid w-100"})}),Object(_.jsx)("span",{class:"cat-name text-color font-extra text-sm text-uppercase letter-spacing-1",children:"Explore"}),Object(_.jsx)("h3",{class:"post-title mt-1",children:Object(_.jsx)("a",{href:"blog-single.html",children:"The best place to explore to enjoy"})}),Object(_.jsx)("span",{class:"text-muted letter-spacing text-uppercase font-sm",children:"June 15, 2019"})]})})})}function Z(e){var t=e.mostrarError,s=Object(c.useState)([]),n=Object(j.a)(s,2),a=(n[0],n[1]),r=Object(c.useState)([]),i=Object(j.a)(r,2),o=i[0],d=i[1],p=Object(c.useState)(!0),m=Object(j.a)(p,2),x=m[0],O=m[1];return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([h.a.get("https://igback.herokuapp.com/api/posts/explore").then((function(e){return e.data})),h.a.get("https://igback.herokuapp.com/api/usuarios/explore").then((function(e){return e.data}))]);case 3:s=e.sent,c=Object(j.a)(s,2),n=c[0],r=c[1],a(n),d(r),O(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t("Hubo un problema cargando explore. Por favor refresca la p\xe1gina."),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),x?Object(_.jsx)(C,{center:!0,children:Object(_.jsx)(N,{})}):Object(_.jsx)(C,{children:Object(_.jsx)("div",{class:"about_section layout_padding",children:Object(_.jsx)("div",{class:"container",children:Object(_.jsx)("div",{class:"row",children:Object(_.jsx)("div",{class:"col-lg-4 col-sm-12",children:Object(_.jsxs)("div",{class:"newsletter_main",children:[Object(_.jsx)("h1",{class:"recent_taital",children:"Recent post"}),o.map((function(e){return Object(_.jsxs)("div",{class:"recent_box",children:[Object(_.jsx)("div",{class:"recent_left",children:Object(_.jsx)(b.b,{to:"/perfil/".concat(e.username),children:Object(_.jsx)("div",{class:"image_6",children:Object(_.jsx)("img",{src:e.imagen})})})}),Object(_.jsxs)("div",{class:"recent_right",children:[Object(_.jsx)("h3",{class:"consectetur_text",children:e.username}),Object(_.jsx)("p",{class:"dolor_text",children:"    "})]})]},e._id)}))]})})})})})})}function $(e){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.siguiendo){e.next=6;break}return e.next=3,h.a.delete("/api/amistades/".concat(t._id,"/eliminar"));case 3:s=Object(i.a)(Object(i.a)({},t),{},{numSeguidores:t.numSeguidores-1,siguiendo:!1}),e.next=9;break;case 6:return e.next=8,h.a.post("/api/amistades/".concat(t._id,"/seguir"));case 8:s=Object(i.a)(Object(i.a)({},t),{},{numSeguidores:t.numSeguidores+1,siguiendo:!0});case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t=e.mostrarError,s=e.usuario,n=e.match,a=e.logout,r=n.params.username,o=Object(c.useState)(null),b=Object(j.a)(o,2),d=b[0],p=b[1],m=Object(c.useState)([]),x=Object(j.a)(m,2),O=x[0],f=x[1],g=Object(c.useState)(!0),v=Object(j.a)(g,2),k=v[0],y=v[1],w=Object(c.useState)(!1),S=Object(j.a)(w,2),E=S[0],L=S[1],P=Object(c.useState)(!1),I=Object(j.a)(P,2),F=I[0],q=I[1],D=Object(c.useState)(!1),A=Object(j.a)(D,2),H=A[0],T=A[1],U=function(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),s=t[0],n=t[1];return Object(c.useEffect)((function(){var e=window.matchMedia("(min-width: 576px)");function t(){e.matches?n(!1):n(!0)}return e.addListener(t),t(),function(){return e.removeListener(t)}}),[]),s}();function R(){return s._id===d._id}function z(){return(z=Object(u.a)(l.a.mark((function e(s){var c,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),c=s.target.files[0],n={headers:{"Content-Type":c.type}},e.next=6,h.a.post("/api/usuarios/upload",c,n);case 6:a=e.sent,r=a.data,p(Object(i.a)(Object(i.a)({},d),{},{imagen:r.url})),q(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),t(e.t0.response.data),q(!1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,T(!0),e.next=6,$(d);case 6:s=e.sent,p(s),T(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),t("Hubo un problema siguiendo/dejando de seguir a este usuario. Intenta de nuevo"),T(!1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s,c,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,h.a.get("https://igback.herokuapp.com/api/usuarios/".concat(r));case 4:return s=e.sent,c=s.data,e.next=8,h.a.get("https://igback.herokuapp.com/api/posts/usuario/".concat(c._id));case 8:n=e.sent,a=n.data,p(c),f(a),y(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status?t("Hubo un problema cargando este perfil."):L(!0),y(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),k?Object(_.jsx)(C,{center:!0,children:Object(_.jsx)(N,{})}):E?Object(_.jsx)(B,{mensaje:"El perfil que estas intentando ver no existe"}):null==s?null:Object(_.jsxs)(C,{children:[Object(_.jsxs)("div",{className:"Perfil",children:[Object(_.jsx)(se,{esElPerfilDeLaPersonaLogin:R(),"usuarioDue\xf1oDelPerfil":d,handleImagenSeleccionada:function(e){return z.apply(this,arguments)},subiendoImagen:F}),Object(_.jsxs)("div",{className:"Perfil__bio-container",children:[Object(_.jsxs)("div",{className:"Perfil__bio-heading",children:[Object(_.jsx)("h2",{className:"capitalize",children:d.username}),!R()&&Object(_.jsx)(ce,{siguiendo:d.siguiendo,toggleSiguiendo:function(){return M.apply(this,arguments)}}),R()&&Object(_.jsx)(ne,{logout:a})]}),!U&&Object(_.jsx)(te,{"usuarioDue\xf1oDelPerfil":d})]})]}),U&&Object(_.jsx)(te,{"usuarioDue\xf1oDelPerfil":d}),Object(_.jsx)("section",{class:"section-padding",children:Object(_.jsx)("div",{class:"container",children:Object(_.jsx)("div",{class:"row",children:Object(_.jsx)("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:Object(_.jsx)("div",{class:"row",children:O.length>0?Object(_.jsx)(V,{posts:O}):Object(_.jsx)(ae,{})})})})})})]})}function te(e){var t=e.usuarioDue\u00f1oDelPerfil;return Object(_.jsxs)("div",{className:"Perfil__descripcion",children:[Object(_.jsx)("h2",{className:"Perfil__nombre",children:t.nombre}),Object(_.jsx)("p",{children:t.bio}),Object(_.jsxs)("p",{className:"Perfil__estadisticas",children:[Object(_.jsx)("b",{children:t.numSiguiendo})," following",Object(_.jsxs)("span",{className:"ml-4",children:[Object(_.jsx)("b",{children:t.numSeguidores})," followers"]})]})]})}function se(e){var t,s=e.esElPerfilDeLaPersonaLogin,c=e.usuarioDue\u00f1oDelPerfil,n=e.handleImagenSeleccionada;return t=e.subiendoImagen?Object(_.jsx)(N,{}):s?Object(_.jsx)("label",{className:"Perfil__img-placeholder Perfil__img-placeholder--pointer",style:{backgroundImage:c.imagen?"url(".concat(c.imagen,")"):null,backgroundColor:D()(c.username)},children:Object(_.jsx)("input",{type:"file",onChange:n,className:"hidden",name:"imagen"})}):Object(_.jsx)("div",{className:"Perfil__img-placeholder",style:{backgroundImage:c.imagen?"url(".concat(c.imagen,")"):null,backgroundColor:D()(c.username)}}),Object(_.jsx)("div",{className:"Perfil__img-container",children:t})}function ce(e){var t=e.siguiendo,s=e.toggleSiguiendo;return Object(_.jsx)("button",{onClick:s,className:"Perfil__boton-seguir",children:t?"Dejar de seguir":"Seguir"})}function ne(e){var t=e.logout;return Object(_.jsx)("button",{className:"Perfil__boton-logout",onClick:t,children:"Logout"})}function ae(){return Object(_.jsx)("p",{className:"text-center",children:"Este usuario no ha poteado fotos."})}var re=s(27);s(87);function ie(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("footer",{class:"footer-section",children:Object(_.jsx)("div",{class:"container",children:Object(_.jsxs)("div",{class:"row",children:[Object(_.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(_.jsxs)("div",{class:"fs-about",children:[Object(_.jsx)("div",{class:"fa-logo",children:Object(_.jsx)("a",{href:"#",children:Object(_.jsx)("img",{src:"img/f-logo.png",alt:""})})}),Object(_.jsx)("p",{children:"Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(_.jsxs)("div",{class:"fa-social",children:[Object(_.jsx)("a",{href:"#",children:Object(_.jsx)("i",{class:"fa fa-facebook"})}),Object(_.jsx)("a",{href:"#",children:Object(_.jsx)("i",{class:"fa fa-twitter"})}),Object(_.jsx)("a",{href:"#",children:Object(_.jsx)("i",{class:"fa fa-youtube-play"})}),Object(_.jsx)("a",{href:"#",children:Object(_.jsx)("i",{class:"fa fa-instagram"})})]})]})}),Object(_.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(_.jsxs)("div",{class:"fs-widget",children:[Object(_.jsx)("h5",{children:"Instagram"}),Object(_.jsx)("div",{class:"fw-instagram"})]})}),Object(_.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(_.jsxs)("div",{class:"fs-widget",children:[Object(_.jsx)("h5",{children:"Quick links"}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"#",children:"Home"})}),Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"#",children:"About"})}),Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"#",children:"Contact"})})]}),Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"#",children:"Gallery"})}),Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"#",children:"Portfolio"})}),Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"#",children:"Services"})})]})]})}),Object(_.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(_.jsxs)("div",{class:"fs-widget",children:[Object(_.jsx)("h5",{children:"Subscribe"}),Object(_.jsx)("p",{children:"Imolor amet consectetur adipiscing elit, sed do eiusmod tempor incididunt."}),Object(_.jsx)("div",{class:"fw-subscribe",children:Object(_.jsxs)("form",{action:"#",children:[Object(_.jsx)("input",{type:"text",placeholder:"Email"}),Object(_.jsx)("button",{type:"submit",children:Object(_.jsx)("i",{class:"fa fa-send"})})]})})]})}),Object(_.jsx)("div",{class:"col-lg-12",children:Object(_.jsx)("div",{class:"copyright-text"})})]})})})})}function oe(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(!0),r=Object(j.a)(a,2),i=r[0],o=r[1],d=Object(c.useState)(null),p=Object(j.a)(d,2),m=p[0],g=p[1];function v(){return(v=Object(u.a)(l.a.mark((function e(t,s){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://igback.herokuapp.com/api/usuarios/login",{email:t,password:s});case 2:c=e.sent,a=c.data,n(a.usuario),x(a.token);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t){var s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://igback.herokuapp.com/api/usuarios/signup",t);case 2:s=e.sent,c=s.data,n(c.usuario),x(c.token);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){g(e)}return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O()){e.next=3;break}return o(!1),e.abrupt("return");case 3:return e.prev=3,e.next=6,h.a.get("https://igback.herokuapp.com/api/usuarios/whoami");case 6:t=e.sent,s=t.data,n(s),o(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i?Object(_.jsx)(C,{center:!0,children:Object(_.jsx)(N,{})}):Object(_.jsxs)(b.a,{children:[Object(_.jsx)(y,{usuario:s}),Object(_.jsx)(S,{mensaje:m,esconderError:function(){g(null)}}),s?Object(_.jsx)(le,{mostrarError:w,usuario:s,logout:function(){n(null),f()}}):Object(_.jsx)(ue,{login:function(e,t){return v.apply(this,arguments)},signup:function(e){return k.apply(this,arguments)},mostrarError:w}),Object(_.jsx)(ie,{}),Object(_.jsxs)(re.a,{children:[Object(_.jsx)("link",{rel:"stylesheet",href:"plugins/bootstrap/css/bootstrap.min.css"}),Object(_.jsx)("link",{rel:"stylesheet",href:"plugins/themify/css/themify-icons.css"}),Object(_.jsx)("link",{rel:"stylesheet",href:"plugins/slick-carousel/slick-theme.css"}),Object(_.jsx)("link",{rel:"stylesheet",href:"plugins/slick-carousel/slick.css"}),Object(_.jsx)("link",{rel:"stylesheet",href:"plugins/owl-carousel/owl.carousel.min.css"}),Object(_.jsx)("link",{rel:"stylesheet",href:"plugins/owl-carousel/owl.theme.default.min.css"}),Object(_.jsx)("link",{rel:"stylesheet",href:"plugins/magnific-popup/magnific-popup.css"}),Object(_.jsx)("link",{rel:"stylesheet",href:"css/style.css"}),Object(_.jsx)("script",{src:"plugins/jquery/jquery.js"}),Object(_.jsx)("script",{src:"plugins/bootstrap/js/bootstrap.min.js"}),Object(_.jsx)("script",{src:"plugins/bootstrap/js/popper.min.js"}),Object(_.jsx)("script",{src:"plugins/owl-carousel/owl.carousel.min.js"}),Object(_.jsx)("script",{src:"plugins/slick-carousel/slick.min.js"}),Object(_.jsx)("script",{src:"plugins/magnific-popup/magnific-popup.js"}),Object(_.jsx)("script",{src:"plugins/instafeed-js/instafeed.min.js"}),Object(_.jsx)("script",{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCC72vZw-6tGqFyRhhg5CkF2fqfILn2Tsw"}),Object(_.jsx)("script",{src:"plugins/google-map/gmap.js"}),Object(_.jsx)("script",{src:"js/custom.js"})]})]})}function le(e){var t=e.mostrarError,s=e.usuario,c=e.logout;return Object(_.jsxs)(d.c,{children:[Object(_.jsx)(d.a,{path:"/upload",render:function(e){return Object(_.jsx)(P,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t}))}}),Object(_.jsx)(d.a,{path:"/post/:id",render:function(e){return Object(_.jsx)(Q,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t,usuario:s}))}}),Object(_.jsx)(d.a,{path:"/perfil/:username",render:function(e){return Object(_.jsx)(ee,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t,usuario:s,logout:c}))}}),Object(_.jsx)(d.a,{path:"/explore",render:function(e){return Object(_.jsx)(Z,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t}))}}),Object(_.jsx)(d.a,{path:"/",render:function(e){return Object(_.jsx)(G,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t,usuario:s}))},default:!0})]})}function ue(e){var t=e.login,s=e.signup,c=e.mostrarError;return Object(_.jsxs)(d.c,{children:[Object(_.jsx)(d.a,{path:"/login/",render:function(e){return Object(_.jsx)(L,Object(i.a)(Object(i.a)({},e),{},{login:t,mostrarError:c}))}}),Object(_.jsx)(d.a,{render:function(e){return Object(_.jsx)(E,Object(i.a)(Object(i.a)({},e),{},{signup:s,mostrarError:c}))},default:!0})]})}h.a.interceptors.request.use((function(e){var t=O();return t&&(e.headers.Authorization="bearer ".concat(t)),e})),h.a.interceptors.response.use((function(e){return e}),(function(e){if(401!==e.response.status)return Promise.reject(e);f(),window.location="/login"}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(oe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[88,1,2]]]);
//# sourceMappingURL=main.7f51c3b3.chunk.js.map