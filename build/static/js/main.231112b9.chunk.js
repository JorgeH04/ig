(this["webpackJsonpclontagram-cliente"]=this["webpackJsonpclontagram-cliente"]||[]).push([[0],{48:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(40),r=s.n(a),i=(s(48),s(5)),o=s(2),l=s.n(o),u=s(6),j=s(4),d=s(7),b=s(9),p=s(8),h=s.n(p),x="CLONTAGRAM_TOKEN";function m(e){localStorage.setItem(x,e)}function O(){return localStorage.getItem(x)}function f(){localStorage.removeItem(x)}var g=s(15),v=s(20),_=s(18),y=s(0);function k(e){var t=e.usuario;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{id:"preloder",children:Object(y.jsx)("div",{class:"loader"})}),Object(y.jsx)("div",{class:"header-logo py-5 d-none d-lg-block",children:Object(y.jsx)("div",{class:"container",children:Object(y.jsx)("div",{class:"row justify-content-center",children:Object(y.jsx)("div",{class:"col-lg-6 text-center",children:Object(y.jsx)("a",{class:"navbar-brand",href:"index.html",children:Object(y.jsx)("img",{src:"images/logo.png",alt:"",class:"img-fluid w-100"})})})})})}),Object(y.jsx)("header",{class:"header-top bg-grey justify-content-center",children:Object(y.jsx)("nav",{class:"navbar navbar-expand-lg navigation",children:Object(y.jsxs)("div",{class:"container",children:[Object(y.jsx)(d.b,{class:"navbar-brand d-lg-none",to:"/",children:Object(y.jsx)("img",{src:"images/logo.png",alt:"",class:"img-fluid"})}),Object(y.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarContent","aria-controls":"navbarContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(y.jsx)("span",{class:"ti-menu"})}),Object(y.jsx)("div",{class:"collapse navbar-collapse",id:"navbarContent",children:Object(y.jsxs)("ul",{id:"menu",class:"menu navbar-nav ",children:[Object(y.jsx)("li",{class:"nav-item dropdown  pl-0",children:Object(y.jsx)(d.b,{class:"nav-link dropdown-toggle",to:"/",children:"Home"})}),Object(y.jsx)("li",{class:"nav-item dropdown  pl-0",children:Object(y.jsx)(d.b,{class:"nav-link dropdown-toggle",to:"/upload",children:"Upload"})}),Object(y.jsx)("li",{class:"nav-item dropdown",children:Object(y.jsx)(d.b,{class:"nav-link dropdown-toggle",to:"/explore",children:"Explore"})}),Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)(d.b,{class:"nav-link",to:"/perfil/:username",children:"Perfil"})}),Object(y.jsx)("li",{class:"nav-item",children:t&&Object(y.jsx)(w,{usuario:t})})]})})]})})})]})}function w(e){var t=e.usuario;return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("li",{className:"Nav__link-push",children:Object(y.jsx)(d.b,{className:"Nav__link",to:"/upload",children:Object(y.jsx)(g.a,{icon:v.a})})}),Object(y.jsx)("li",{className:"Nav__link-margin-left",children:Object(y.jsx)(d.b,{className:"Nav__link",to:"/explore",children:Object(y.jsx)(g.a,{icon:_.a})})}),Object(y.jsx)("li",{className:"Nav__link-margin-left",children:Object(y.jsx)(d.b,{className:"Nav__link",to:"/perfil/".concat(t.username),children:Object(y.jsx)(g.a,{icon:_.c})})})]})}function N(){return Object(y.jsxs)("div",{className:"Loading",children:[Object(y.jsx)("div",{className:"Loading__dot-1"}),Object(y.jsx)("div",{className:"Loading__dot-2"}),Object(y.jsx)("div",{className:"Loading__dot-3"})]})}function S(e){var t=e.mensaje,s=e.esconderError;return t?Object(y.jsx)("div",{className:"ErrorContainer",role:"alert",children:Object(y.jsxs)("div",{className:"Error__inner",children:[Object(y.jsx)("span",{className:"block",children:t}),Object(y.jsx)("button",{className:"Error__button",onClick:s,children:Object(y.jsx)(g.a,{className:"Error__icon",icon:_.b})})]})}):null}function C(e){var t=e.children,s=e.center,n="Main ".concat(s?"Main--center":"");return Object(y.jsx)("main",{className:n,children:t})}s.p;function E(e){var t=e.signup,s=e.mostrarError,c=Object(n.useState)({email:"",username:"",password:"",bio:"",nombre:""}),a=Object(j.a)(c,2),r=a[0],o=a[1];function b(e){o(Object(i.a)(Object(i.a)({},r),{},{[e.target.name]:e.target.value}))}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,t(r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),s(e.t0.response.data);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(y.jsxs)(C,{center:!0,children:[Object(y.jsx)("div",{className:"Signup",children:Object(y.jsxs)("div",{className:"FormContainer",children:[Object(y.jsx)("h1",{className:"Form__titulo",children:"Clontagram"}),Object(y.jsx)("p",{className:"FormContainer__info",children:"Reg\xedstrate para que veas el clon de Instagram"}),Object(y.jsxs)("form",{onSubmit:p,children:[Object(y.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"Form__field",required:!0,onChange:b,value:r.email}),Object(y.jsx)("input",{type:"text",name:"nombre",placeholder:"Nombre y Apellido",className:"Form__field",required:!0,minLength:"3",maxLength:"100",onChange:b,value:r.nombre}),Object(y.jsx)("input",{type:"text",name:"username",placeholder:"Username",className:"Form__field",required:!0,minLength:"3",maxLength:"30",onChange:b,value:r.username}),Object(y.jsx)("input",{type:"text",name:"bio",placeholder:"Cu\xe9ntanos de ti...",className:"Form__field",required:!0,maxLength:"150",onChange:b,value:r.bio}),Object(y.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",className:"Form__field",required:!0,onChange:b,value:r.password}),Object(y.jsx)("button",{className:"Form__submit",type:"submit",children:"Sign up"}),Object(y.jsxs)("p",{className:"FormContainer__info",children:["Ya tienes cuenta? ",Object(y.jsx)(d.b,{to:"/login",children:"Login"})]})]})]})}),Object(y.jsx)("div",{class:"contact_section layout_padding",children:Object(y.jsx)("div",{class:"container",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col-md-6",children:Object(y.jsxs)("div",{class:"mail_section",children:[Object(y.jsx)("h1",{class:"contact_taital",children:"Contact us"}),Object(y.jsxs)("form",{onSubmit:p,children:[Object(y.jsx)("input",{type:"email",name:"email",class:"email_text",placeholder:"Email",onChange:b}),Object(y.jsx)("input",{type:"password",class:"email_text",placeholder:"Password",name:"nombre",onChange:b,value:r.nombre,minLength:"3",maxLength:"100"}),Object(y.jsx)("input",{type:"password",class:"email_text",placeholder:"Password",name:"nombre",onChange:b,value:r.nombre,minLength:"3",maxLength:"100"}),Object(y.jsx)("input",{type:"text",name:"bio",placeholder:"Cu\xe9ntanos de ti...",class:"email_text",required:!0,maxLength:"150",onChange:b,value:r.bio}),Object(y.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",class:"email_text",required:!0,onChange:b,value:r.password}),Object(y.jsx)("div",{class:"send_bt",children:Object(y.jsx)("a",{href:"#",children:"send"})})]})]})})})})})]})}function L(e){var t=e.login,s=e.mostrarError,c=Object(n.useState)({email:"",password:""}),a=Object(j.a)(c,2),r=a[0],o=a[1];function b(e){o(Object(i.a)(Object(i.a)({},r),{},{[e.target.name]:e.target.value}))}function p(){return(p=Object(u.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,t(r.email,r.password);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s(e.t0.response.data),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}return Object(y.jsx)(C,{center:!0,children:Object(y.jsx)("div",{class:"contact_section layout_padding",children:Object(y.jsx)("div",{class:"container",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col-md-6",children:Object(y.jsxs)("div",{class:"mail_section",children:[Object(y.jsx)("h1",{class:"contact_taital",children:"Contact us"}),Object(y.jsxs)("form",{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(y.jsx)("input",{type:"email",name:"email",class:"email_text",placeholder:"Email",onChange:b,value:r.email}),Object(y.jsx)("input",{type:"password",class:"email_text",placeholder:"Password",name:"password",onChange:b,value:r.password}),Object(y.jsx)("button",{type:"submit",class:"send_bt",children:"Login"}),Object(y.jsxs)("p",{className:"FormContainer__info",children:["No tienes cuenta? ",Object(y.jsx)(d.b,{to:"/signup",children:"Signup"})]})]})]})})})})})})}function P(e){var t=e.history,s=e.mostrarError,c=Object(n.useState)(""),a=Object(j.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!1),d=Object(j.a)(o,2),b=d[0],p=d[1],x=Object(n.useState)(!1),m=Object(j.a)(x,2),O=m[0],f=m[1],g=Object(n.useState)(""),v=Object(j.a)(g,2),_=v[0],k=v[1],w=Object(n.useState)(""),N=Object(j.a)(w,2),S=N[0],E=N[1];function L(){return(L=Object(u.a)(l.a.mark((function e(t){var n,c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),n=t.target.files[0],c={headers:{"Content-Type":n.type}},e.next=6,h.a.post("/api/posts/upload",n,c);case 6:a=e.sent,r=a.data,i(r.url),p(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),p(!1),s(e.t0.response.data),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(n){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!O){e.next=3;break}return e.abrupt("return");case 3:if(!b){e.next=6;break}return s("No se ha terminado de subir la imagen"),e.abrupt("return");case 6:if(r){e.next=9;break}return s("Primero selecciona una imagen"),e.abrupt("return");case 9:return e.prev=9,f(!0),c={caption:S,title:_,url:r},e.next=14,h.a.post("/api/posts",c);case 14:f(!1),t.push("/"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),s(e.t0.response.data);case 21:case"end":return e.stop()}}),e,null,[[9,18]])})))).apply(this,arguments)}return Object(y.jsx)(C,{center:!0,children:Object(y.jsx)("div",{className:"Upload",children:Object(y.jsxs)("form",{onSubmit:function(e){return P.apply(this,arguments)},children:[Object(y.jsx)("div",{className:"Upload__image-section",children:Object(y.jsx)(I,{imagenUrl:r,subiendoImagen:b,handleImagenSeleccionada:function(e){return L.apply(this,arguments)}})}),Object(y.jsx)("input",{value:_,onChange:function(e){return k(e.target.value)}}),Object(y.jsx)("textarea",{name:"caption",className:"Upload__caption",required:!0,maxLength:"180",placeholder:"Caption de tu post.",value:S,onChange:function(e){return E(e.target.value)}}),Object(y.jsx)("button",{className:"Upload__submit",type:"submit",children:"Post"})]})})})}function I(e){var t=e.subiendoImagen,s=e.imagenUrl,n=e.handleImagenSeleccionada;return t?Object(y.jsx)(N,{}):s?Object(y.jsx)("img",{src:s,alt:""}):Object(y.jsxs)("label",{className:"Upload__image-label",children:[Object(y.jsx)(g.a,{icon:v.b}),Object(y.jsx)("span",{children:"Publica una foto"}),Object(y.jsx)("input",{type:"file",className:"hidden",name:"imagen",onChange:n})]})}var F=s(23),q=s(22),D=s.n(q);function A(e){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(l.a.mark((function e(t){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="/api/posts/".concat(t._id,"/likes"),!t.estaLike){e.next=7;break}return e.next=4,h.a.delete(s,{});case 4:n=Object(i.a)(Object(i.a)({},t),{},{estaLike:!1,numLikes:t.numLikes-1}),e.next=10;break;case 7:return e.next=9,h.a.post(s,{});case 9:n=Object(i.a)(Object(i.a)({},t),{},{estaLike:!0,numLikes:t.numLikes+1});case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,s){return U.apply(this,arguments)}function U(){return(U=Object(u.a)(l.a.mark((function e(t,s,n){var c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/posts/".concat(t._id,"/comentarios"),{mensaje:s});case 2:return c=e.sent,(a=c.data).usuario=n,r=Object(i.a)(Object(i.a)({},t),{},{comentarios:[].concat(Object(F.a)(t.comentarios),[a]),numComentarios:t.numComentarios+1}),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=e.post,s=(e.actualizarPost,e.mostrarError,e.usuario,t.numLikes,t.numComentarios,t.comentarios,t._id,t.caption,t.title,t.url),c=(t.usuario,t.estaLike,Object(n.useState)(!1)),a=Object(j.a)(c,2);a[0],a[1];return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{class:"single-post",children:[Object(y.jsxs)("div",{class:"post-header mb-5 text-center",children:[Object(y.jsxs)("div",{class:"meta-cat",children:[Object(y.jsx)("a",{class:"post-category font-extra text-color text-uppercase font-sm letter-spacing-1",href:"#",children:"Health ,"}),Object(y.jsx)("a",{class:"post-category font-extra text-color text-uppercase font-sm letter-spacing-1",href:"#",children:"lifestyle"})]}),Object(y.jsx)("h2",{class:"post-title mt-2",children:"First Look At Self-Portrait's Autumn Collection"}),Object(y.jsxs)("div",{class:"post-meta",children:[Object(y.jsx)("span",{class:"text-uppercase font-sm letter-spacing-1 mr-3",children:"by Liam"}),Object(y.jsx)("span",{class:"text-uppercase font-sm letter-spacing-1",children:"January 17,2019"})]}),Object(y.jsx)("div",{class:"post-featured-image mt-5",children:Object(y.jsx)("img",{src:s,class:"img-fluid w-100",alt:"featured-image"})})]}),Object(y.jsx)("div",{class:"post-body"})]})})}function z(e){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(t){var s,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t?"?fecha=".concat(t):"",e.next=3,h.a.get("/api/posts/feed".concat(s));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){var t=e.mostrarError,s=e.usuario,c=Object(n.useState)([]),a=Object(j.a)(c,2),r=a[0],i=a[1],o=Object(n.useState)(!0),d=Object(j.a)(o,2),b=d[0],p=d[1],h=Object(n.useState)(!1),x=Object(j.a)(h,2),m=x[0],O=x[1],f=Object(n.useState)(!1),g=Object(j.a)(f,2),v=g[0],_=g[1];function k(e,t){i((function(s){return s.map((function(s){return s!==e?s:t}))}))}function w(){return(w=Object(u.a)(l.a.mark((function e(){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,O(!0),s=r[r.length-1].fecha_creado,e.next=7,z(s);case 7:n=e.sent,i((function(e){return[].concat(Object(F.a)(e),Object(F.a)(n))})),O(!1),S(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t("Hubo un problema cargando los siguientes posts."),O(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function S(e){e.length<3&&_(!0)}return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z();case 3:s=e.sent,i(s),console.log(s),p(!1),S(s),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t("Hubo un problema cargando tu feed."),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),b?Object(y.jsx)(C,{center:!0,children:Object(y.jsx)(N,{})}):b||0!==r.length?Object(y.jsx)(C,{center:!0,children:Object(y.jsx)("section",{class:"single-block-wrapper section-padding",children:Object(y.jsx)("div",{class:"container",children:Object(y.jsx)("div",{class:"row justify-content-center",children:Object(y.jsxs)("div",{class:"col-lg-10 col-md-10 col-sm-12 col-xs-12",children:[r.map((function(e){return Object(y.jsx)(R,{post:e,actualizarPost:k,mostrarError:t,usuario:s},e._id)})),Object(y.jsx)(W,{onClick:function(){return w.apply(this,arguments)},todosLosPostsCargados:v})]})})})})}):Object(y.jsx)(C,{center:!0,children:Object(y.jsx)(J,{})})}function J(){return Object(y.jsxs)("div",{className:"NoSiguesANadie",children:[Object(y.jsx)("p",{className:"NoSiguesANadie__mensaje",children:"Tu feed no tiene fotos porque no sigues a nadie, o porque no han publicado fotos."}),Object(y.jsx)("div",{className:"text-center",children:Object(y.jsx)(d.b,{to:"/explore",className:"NoSiguesANadie__boton",children:"Explora Clontagram"})})]})}function W(e){var t=e.onClick;return e.todosLosPostsCargados?Object(y.jsx)("div",{className:"Feed__no-hay-mas-posts",children:"No hay m\xe1s posts"}):Object(y.jsx)("button",{className:"Feed__cargar-mas",onClick:t,children:"Ver m\xe1s"})}function B(e){var t=e.mensaje;return Object(y.jsx)(C,{center:!0,children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h2",{className:"RecursoNoExiste__mensaje",children:t}),Object(y.jsxs)("p",{className:"RecursoNoExiste__link-container",children:["Ir al ",Object(y.jsx)(d.b,{to:"/",children:"home"})]})]})})}function Q(e){var t=e.mostrarError,s=e.match,c=e.usuario,a=s.params.id,r=Object(n.useState)(null),o=Object(j.a)(r,2),d=o[0],b=o[1],p=Object(n.useState)(!0),x=Object(j.a)(p,2),m=x[0],O=x[1],f=Object(n.useState)(!1),g=Object(j.a)(f,2),v=g[0],_=g[1],k=Object(n.useState)(!1),w=Object(j.a)(k,2),S=w[0],E=w[1];function L(){return(L=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(d,t,c);case 2:s=e.sent,b(s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,E(!0),e.next=6,A(d);case 6:s=e.sent,b(s),E(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),E(!1),t("Hubo un problema modificando el like. Intenta de nuevo."),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/posts/".concat(a));case 3:s=e.sent,n=s.data,b(n),O(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status?t("Hubo un problema cargando este post."):_(!0),O(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),m?Object(y.jsx)(C,{center:!0,children:Object(y.jsx)(N,{})}):v?Object(y.jsx)(B,{mensaje:"El post que estas intentando ver no existe"}):null==d?null:Object(y.jsx)(C,{center:!0,children:Object(y.jsx)(K,Object(i.a)(Object(i.a)({},d),{},{onSubmitComentario:function(e){return L.apply(this,arguments)},onSubmitLike:function(){return P.apply(this,arguments)}}))})}function K(e){e.comentarios,e.caption;var t=e.url;e.usuario,e.estaLike,e.onSubmitLike,e.onSubmitComentario;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{class:"col-lg-9",children:Object(y.jsxs)("div",{class:"blog-item",children:[Object(y.jsx)("div",{class:"bi-pic",children:Object(y.jsx)("img",{src:t,alt:""})}),Object(y.jsxs)("div",{class:"bi-text",children:[Object(y.jsx)("div",{class:"label",children:"Typography"}),Object(y.jsx)("h5",{children:Object(y.jsx)("a",{href:"./blog-details.html",children:"Women were photography pioneers yet gender inequality persists in the..."})}),Object(y.jsxs)("ul",{children:[Object(y.jsxs)("li",{children:["by ",Object(y.jsx)("span",{children:"Admin"})]}),Object(y.jsx)("li",{children:"Aug,15, 2019"}),Object(y.jsx)("li",{children:"20 Comment"})]}),Object(y.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas accumsan lacus vel facilisis. "})]})]})})})}function V(e){var t=e.posts.reduce((function(e,t){var s=e[e.length-1];return s&&s.length<3?s.push(t):e.push([t]),e}),[]);return Object(y.jsx)("div",{children:t.map((function(e,t){return Object(y.jsx)("div",{className:"Grid__row",children:e.map((function(e){return Object(y.jsx)(Y,Object(i.a)({},e),e._id)}))},t)}))})}function Y(e){e._id;var t=e.url;e.caption;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("div",{class:"col-lg-3 col-md-6",children:Object(y.jsxs)("article",{class:"post-grid mb-5",children:[Object(y.jsx)("a",{class:"post-thumb mb-4 d-block",href:"blog-single.html",children:Object(y.jsx)("img",{src:t,alt:"",class:"img-fluid w-100"})}),Object(y.jsx)("span",{class:"cat-name text-color font-extra text-sm text-uppercase letter-spacing-1",children:"Explore"}),Object(y.jsx)("h3",{class:"post-title mt-1",children:Object(y.jsx)("a",{href:"blog-single.html",children:"The best place to explore to enjoy"})}),Object(y.jsx)("span",{class:"text-muted letter-spacing text-uppercase font-sm",children:"June 15, 2019"})]})})})}function Z(e){var t=e.mostrarError,s=Object(n.useState)([]),c=Object(j.a)(s,2),a=(c[0],c[1]),r=Object(n.useState)([]),i=Object(j.a)(r,2),o=i[0],b=i[1],p=Object(n.useState)(!0),x=Object(j.a)(p,2),m=x[0],O=x[1];return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([h.a.get("/api/posts/explore").then((function(e){return e.data})),h.a.get("/api/usuarios/explore").then((function(e){return e.data}))]);case 3:s=e.sent,n=Object(j.a)(s,2),c=n[0],r=n[1],a(c),b(r),O(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t("Hubo un problema cargando explore. Por favor refresca la p\xe1gina."),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),m?Object(y.jsx)(C,{center:!0,children:Object(y.jsx)(N,{})}):Object(y.jsx)(C,{children:Object(y.jsx)("div",{class:"about_section layout_padding",children:Object(y.jsx)("div",{class:"container",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col-lg-4 col-sm-12",children:Object(y.jsxs)("div",{class:"newsletter_main",children:[Object(y.jsx)("h1",{class:"recent_taital",children:"Recent post"}),o.map((function(e){return Object(y.jsxs)("div",{class:"recent_box",children:[Object(y.jsx)("div",{class:"recent_left",children:Object(y.jsx)(d.b,{to:"/perfil/".concat(e.username),children:Object(y.jsx)("div",{class:"image_6",children:Object(y.jsx)("img",{src:e.imagen})})})}),Object(y.jsxs)("div",{class:"recent_right",children:[Object(y.jsx)("h3",{class:"consectetur_text",children:e.username}),Object(y.jsx)("p",{class:"dolor_text",children:"    "})]})]},e._id)}))]})})})})})})}function $(e){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.siguiendo){e.next=6;break}return e.next=3,h.a.delete("/api/amistades/".concat(t._id,"/eliminar"));case 3:s=Object(i.a)(Object(i.a)({},t),{},{numSeguidores:t.numSeguidores-1,siguiendo:!1}),e.next=9;break;case 6:return e.next=8,h.a.post("/api/amistades/".concat(t._id,"/seguir"));case 8:s=Object(i.a)(Object(i.a)({},t),{},{numSeguidores:t.numSeguidores+1,siguiendo:!0});case 9:return e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){var t=e.mostrarError,s=e.usuario,c=e.match,a=e.logout,r=c.params.username,o=Object(n.useState)(null),d=Object(j.a)(o,2),b=d[0],p=d[1],x=Object(n.useState)([]),m=Object(j.a)(x,2),O=m[0],f=m[1],g=Object(n.useState)(!0),v=Object(j.a)(g,2),_=v[0],k=v[1],w=Object(n.useState)(!1),S=Object(j.a)(w,2),E=S[0],L=S[1],P=Object(n.useState)(!1),I=Object(j.a)(P,2),F=I[0],q=I[1],D=Object(n.useState)(!1),A=Object(j.a)(D,2),H=A[0],T=A[1],U=function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),s=t[0],c=t[1];return Object(n.useEffect)((function(){var e=window.matchMedia("(min-width: 576px)");function t(){e.matches?c(!1):c(!0)}return e.addListener(t),t(),function(){return e.removeListener(t)}}),[]),s}();function R(){return s._id===b._id}function z(){return(z=Object(u.a)(l.a.mark((function e(s){var n,c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),n=s.target.files[0],c={headers:{"Content-Type":n.type}},e.next=6,h.a.post("/api/usuarios/upload",n,c);case 6:a=e.sent,r=a.data,p(Object(i.a)(Object(i.a)({},b),{},{imagen:r.url})),q(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),t(e.t0.response.data),q(!1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,T(!0),e.next=6,$(b);case 6:s=e.sent,p(s),T(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),t("Hubo un problema siguiendo/dejando de seguir a este usuario. Intenta de nuevo"),T(!1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var s,n,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,h.a.get("/api/usuarios/".concat(r));case 4:return s=e.sent,n=s.data,e.next=8,h.a.get("/api/posts/usuario/".concat(n._id));case 8:c=e.sent,a=c.data,p(n),f(a),k(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),!e.t0.response||404!==e.t0.response.status&&400!==e.t0.response.status?t("Hubo un problema cargando este perfil."):L(!0),k(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[r]),_?Object(y.jsx)(C,{center:!0,children:Object(y.jsx)(N,{})}):E?Object(y.jsx)(B,{mensaje:"El perfil que estas intentando ver no existe"}):null==s?null:Object(y.jsxs)(C,{children:[Object(y.jsxs)("div",{className:"Perfil",children:[Object(y.jsx)(se,{esElPerfilDeLaPersonaLogin:R(),"usuarioDue\xf1oDelPerfil":b,handleImagenSeleccionada:function(e){return z.apply(this,arguments)},subiendoImagen:F}),Object(y.jsxs)("div",{className:"Perfil__bio-container",children:[Object(y.jsxs)("div",{className:"Perfil__bio-heading",children:[Object(y.jsx)("h2",{className:"capitalize",children:b.username}),!R()&&Object(y.jsx)(ne,{siguiendo:b.siguiendo,toggleSiguiendo:function(){return M.apply(this,arguments)}}),R()&&Object(y.jsx)(ce,{logout:a})]}),!U&&Object(y.jsx)(te,{"usuarioDue\xf1oDelPerfil":b})]})]}),U&&Object(y.jsx)(te,{"usuarioDue\xf1oDelPerfil":b}),Object(y.jsx)("section",{class:"section-padding",children:Object(y.jsx)("div",{class:"container",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:Object(y.jsx)("div",{class:"row",children:O.length>0?Object(y.jsx)(V,{posts:O}):Object(y.jsx)(ae,{})})})})})})]})}function te(e){var t=e.usuarioDue\u00f1oDelPerfil;return Object(y.jsxs)("div",{className:"Perfil__descripcion",children:[Object(y.jsx)("h2",{className:"Perfil__nombre",children:t.nombre}),Object(y.jsx)("p",{children:t.bio}),Object(y.jsxs)("p",{className:"Perfil__estadisticas",children:[Object(y.jsx)("b",{children:t.numSiguiendo})," following",Object(y.jsxs)("span",{className:"ml-4",children:[Object(y.jsx)("b",{children:t.numSeguidores})," followers"]})]})]})}function se(e){var t,s=e.esElPerfilDeLaPersonaLogin,n=e.usuarioDue\u00f1oDelPerfil,c=e.handleImagenSeleccionada;return t=e.subiendoImagen?Object(y.jsx)(N,{}):s?Object(y.jsx)("label",{className:"Perfil__img-placeholder Perfil__img-placeholder--pointer",style:{backgroundImage:n.imagen?"url(".concat(n.imagen,")"):null,backgroundColor:D()(n.username)},children:Object(y.jsx)("input",{type:"file",onChange:c,className:"hidden",name:"imagen"})}):Object(y.jsx)("div",{className:"Perfil__img-placeholder",style:{backgroundImage:n.imagen?"url(".concat(n.imagen,")"):null,backgroundColor:D()(n.username)}}),Object(y.jsx)("div",{className:"Perfil__img-container",children:t})}function ne(e){var t=e.siguiendo,s=e.toggleSiguiendo;return Object(y.jsx)("button",{onClick:s,className:"Perfil__boton-seguir",children:t?"Dejar de seguir":"Seguir"})}function ce(e){var t=e.logout;return Object(y.jsx)("button",{className:"Perfil__boton-logout",onClick:t,children:"Logout"})}function ae(){return Object(y.jsx)("p",{className:"text-center",children:"Este usuario no ha poteado fotos."})}var re=s(27);s(87);function ie(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("footer",{class:"footer-section",children:Object(y.jsx)("div",{class:"container",children:Object(y.jsxs)("div",{class:"row",children:[Object(y.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(y.jsxs)("div",{class:"fs-about",children:[Object(y.jsx)("div",{class:"fa-logo",children:Object(y.jsx)("a",{href:"#",children:Object(y.jsx)("img",{src:"img/f-logo.png",alt:""})})}),Object(y.jsx)("p",{children:"Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."}),Object(y.jsxs)("div",{class:"fa-social",children:[Object(y.jsx)("a",{href:"#",children:Object(y.jsx)("i",{class:"fa fa-facebook"})}),Object(y.jsx)("a",{href:"#",children:Object(y.jsx)("i",{class:"fa fa-twitter"})}),Object(y.jsx)("a",{href:"#",children:Object(y.jsx)("i",{class:"fa fa-youtube-play"})}),Object(y.jsx)("a",{href:"#",children:Object(y.jsx)("i",{class:"fa fa-instagram"})})]})]})}),Object(y.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(y.jsxs)("div",{class:"fs-widget",children:[Object(y.jsx)("h5",{children:"Instagram"}),Object(y.jsx)("div",{class:"fw-instagram"})]})}),Object(y.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(y.jsxs)("div",{class:"fs-widget",children:[Object(y.jsx)("h5",{children:"Quick links"}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"#",children:"Home"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"#",children:"About"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"#",children:"Contact"})})]}),Object(y.jsxs)("ul",{children:[Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"#",children:"Gallery"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"#",children:"Portfolio"})}),Object(y.jsx)("li",{children:Object(y.jsx)("a",{href:"#",children:"Services"})})]})]})}),Object(y.jsx)("div",{class:"col-lg-3 col-md-6 col-sm-6",children:Object(y.jsxs)("div",{class:"fs-widget",children:[Object(y.jsx)("h5",{children:"Subscribe"}),Object(y.jsx)("p",{children:"Imolor amet consectetur adipiscing elit, sed do eiusmod tempor incididunt."}),Object(y.jsx)("div",{class:"fw-subscribe",children:Object(y.jsxs)("form",{action:"#",children:[Object(y.jsx)("input",{type:"text",placeholder:"Email"}),Object(y.jsx)("button",{type:"submit",children:Object(y.jsx)("i",{class:"fa fa-send"})})]})})]})}),Object(y.jsx)("div",{class:"col-lg-12",children:Object(y.jsx)("div",{class:"copyright-text"})})]})})})})}function oe(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)(!0),r=Object(j.a)(a,2),i=r[0],o=r[1],b=Object(n.useState)(null),p=Object(j.a)(b,2),x=p[0],g=p[1];function v(){return(v=Object(u.a)(l.a.mark((function e(t,s){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/usuarios/login",{email:t,password:s});case 2:n=e.sent,a=n.data,c(a.usuario),m(a.token);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(u.a)(l.a.mark((function e(t){var s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("/api/usuarios/signup",t);case 2:s=e.sent,n=s.data,c(n.usuario),m(n.token);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){g(e)}return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O()){e.next=3;break}return o(!1),e.abrupt("return");case 3:return e.prev=3,e.next=6,h.a.get("/api/usuarios/whoami");case 6:t=e.sent,s=t.data,c(s),o(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i?Object(y.jsx)(C,{center:!0,children:Object(y.jsx)(N,{})}):Object(y.jsxs)(d.a,{children:[Object(y.jsx)(k,{usuario:s}),Object(y.jsx)(S,{mensaje:x,esconderError:function(){g(null)}}),s?Object(y.jsx)(le,{mostrarError:w,usuario:s,logout:function(){c(null),f()}}):Object(y.jsx)(ue,{login:function(e,t){return v.apply(this,arguments)},signup:function(e){return _.apply(this,arguments)},mostrarError:w}),Object(y.jsx)(ie,{}),Object(y.jsxs)(re.a,{children:[Object(y.jsx)("link",{rel:"stylesheet",href:"plugins/bootstrap/css/bootstrap.min.css"}),Object(y.jsx)("link",{rel:"stylesheet",href:"plugins/themify/css/themify-icons.css"}),Object(y.jsx)("link",{rel:"stylesheet",href:"plugins/slick-carousel/slick-theme.css"}),Object(y.jsx)("link",{rel:"stylesheet",href:"plugins/slick-carousel/slick.css"}),Object(y.jsx)("link",{rel:"stylesheet",href:"plugins/owl-carousel/owl.carousel.min.css"}),Object(y.jsx)("link",{rel:"stylesheet",href:"plugins/owl-carousel/owl.theme.default.min.css"}),Object(y.jsx)("link",{rel:"stylesheet",href:"plugins/magnific-popup/magnific-popup.css"}),Object(y.jsx)("link",{rel:"stylesheet",href:"css/style.css"}),Object(y.jsx)("script",{src:"plugins/jquery/jquery.js"}),Object(y.jsx)("script",{src:"plugins/bootstrap/js/bootstrap.min.js"}),Object(y.jsx)("script",{src:"plugins/bootstrap/js/popper.min.js"}),Object(y.jsx)("script",{src:"plugins/owl-carousel/owl.carousel.min.js"}),Object(y.jsx)("script",{src:"plugins/slick-carousel/slick.min.js"}),Object(y.jsx)("script",{src:"plugins/magnific-popup/magnific-popup.js"}),Object(y.jsx)("script",{src:"plugins/instafeed-js/instafeed.min.js"}),Object(y.jsx)("script",{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCC72vZw-6tGqFyRhhg5CkF2fqfILn2Tsw"}),Object(y.jsx)("script",{src:"plugins/google-map/gmap.js"}),Object(y.jsx)("script",{src:"js/custom.js"})]})]})}function le(e){var t=e.mostrarError,s=e.usuario,n=e.logout;return Object(y.jsxs)(b.c,{children:[Object(y.jsx)(b.a,{path:"/upload",render:function(e){return Object(y.jsx)(P,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t}))}}),Object(y.jsx)(b.a,{path:"/post/:id",render:function(e){return Object(y.jsx)(Q,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t,usuario:s}))}}),Object(y.jsx)(b.a,{path:"/perfil/:username",render:function(e){return Object(y.jsx)(ee,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t,usuario:s,logout:n}))}}),Object(y.jsx)(b.a,{path:"/explore",render:function(e){return Object(y.jsx)(Z,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t}))}}),Object(y.jsx)(b.a,{path:"/",render:function(e){return Object(y.jsx)(G,Object(i.a)(Object(i.a)({},e),{},{mostrarError:t,usuario:s}))},default:!0})]})}function ue(e){var t=e.login,s=e.signup,n=e.mostrarError;return Object(y.jsxs)(b.c,{children:[Object(y.jsx)(b.a,{path:"/login/",render:function(e){return Object(y.jsx)(L,Object(i.a)(Object(i.a)({},e),{},{login:t,mostrarError:n}))}}),Object(y.jsx)(b.a,{render:function(e){return Object(y.jsx)(E,Object(i.a)(Object(i.a)({},e),{},{signup:s,mostrarError:n}))},default:!0})]})}h.a.interceptors.request.use((function(e){var t=O();return t&&(e.headers.Authorization="bearer ".concat(t)),e})),h.a.interceptors.response.use((function(e){return e}),(function(e){if(401!==e.response.status)return Promise.reject(e);f(),window.location="/login"}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(oe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[88,1,2]]]);
//# sourceMappingURL=main.231112b9.chunk.js.map